<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>carX ‚Äî Venda de Ve√≠culos</title>
<style>
    body { font-family: Arial, sans-serif; background: #0d0d0d; color: #fff; margin: 0; }
    header { padding: 20px; text-align: center; background: #111; font-size: 32px; font-weight: bold; color: #00c3ff; border-bottom: 2px solid #00c3ff; }
    .slider { width: 90%; max-width: 900px; height: 220px; margin: 20px auto; overflow: hidden; border-radius: 12px; border: 2px solid #00c3ff; position: relative; }
    .slides { display: flex; width: 300%; animation: slide 12s infinite; }
    .slides img { width: 100%; height: 220px; object-fit: cover; }
    @keyframes slide { 0% { margin-left: 0; } 33% { margin-left: -100%; } 66% { margin-left: -200%; } 100% { margin-left: 0; } }
    .container { max-width: 900px; margin: auto; padding: 20px; }
    .card { background: #1a1a1a; padding: 20px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #333; }
    h2 { color: #00c3ff; margin-bottom: 10px; }
    input, select { width: 100%; padding: 10px; margin-top: 10px; border-radius: 8px; border: none; background: #222; color: #fff; }
    button { padding: 12px; width: 100%; background: #00c3ff; border: none; border-radius: 8px; margin-top: 15px; font-size: 16px; cursor: pointer; font-weight: bold; }
    button:hover { background: #0099cc; }
    .result { background: #101010; padding: 15px; border-radius: 10px; margin-top: 20px; border: 1px solid #00c3ff; white-space: pre-line; font-size: 16px; }
    #chat-bubble { position: fixed; bottom: 20px; right: 20px; background: #4CAF50; color: #fff; padding: 14px 16px; border-radius: 50%; cursor: pointer; font-size: 22px; z-index: 99999; box-shadow: 0 0 10px #0005; }
    #chat-box { position: fixed; bottom: 90px; right: 20px; width: 90%; max-width: 320px; height: 420px; background: #1a1a1a; color: #fff; border-radius: 14px; box-shadow: 0 0 12px #0007; display: none; flex-direction: column; z-index: 99999; }
    @media (max-width: 480px) { #chat-box { bottom: 80px; right: 10px; width: calc(100% - 20px); height: 75vh; } }
    #chat-header { background: #4CAF50; padding: 12px; text-align: center; font-weight: bold; border-radius: 14px 14px 0 0; }
    #chat-messages { flex: 1; padding: 10px; overflow-y: auto; font-size: 14px; }
    #chat-input { display: flex; border-top: 1px solid #333; }
    #chat-input input { flex: 1; padding: 10px; border: none; outline: none; background: #0d0d0d; color: #fff; font-size: 15px; }
    #chat-input button { padding: 10px; background: #4CAF50; border: none; cursor: pointer; color: #fff; font-weight: bold; width: 60px; }
</style>
</head>
<body>

<header>carX ‚Äî Venda de Ve√≠culos</header>

<div class="slider">
    <div class="slides">
        <img src="https://i.imgur.com/WTksDXy.jpeg">
        <img src="https://i.imgur.com/MFETVLh.jpeg">
        <img src="https://i.imgur.com/pVoEWX2.jpeg">
        <img src="https://i.imgur.com/lFB7TSp.jpeg">
        <img src="https://i.imgur.com/AzpkVXL.jpeg">
        <img src="https://i.imgur.com/xjfas8A.jpeg">
        <img src="https://i.imgur.com/hKxIvEI.jpeg">
        <img src="https://i.imgur.com/zBqhdwx.jpeg">
    </div>
</div>

<div class="container">

<div class="card">
    <h2>Informa√ß√µes do Cliente</h2>
    <input type="text" id="nome" placeholder="Seu nome">
    <input type="text" id="telefone" placeholder="Seu telefone">
    <input type="text" id="playerID" placeholder="ID do jogo">
    <input type="text" id="serverName" placeholder="Servidor (Ex: BR-05)">
</div>
 
<div class="card">
    <h2>Aluguel de Ve√≠culos</h2>
    <select id="vehicle">
        <option value="">Selecione o ve√≠culo...</option>
        <option value="jeepdeguerra">jeep de guerra pesado ‚Äî R$ 4500</option>
        <option value="pequenalambretafesta">Pequena Lambreta Festa ‚Äî R$ 7800</option>
        <option value="pequenalambretacanto">Pequena Lambreta Canto ‚Äî R$ 15000</option>
        <option value="helicopterodeataque">Helic√≥ptero de ataque ‚Äî R$ 12000</option>
        <option value="motoolanadorazul">Motoolanador azul ‚Äî R$ 12000</option>
        <option value="motoolanador">Motoolanador ‚Äî R$ 12000</option>
        <option value="tanquetigrebranco">tanque tigre branco ‚Äî R$ 12000</option>
    </select>

    <label>Materiais que voc√™ possui:</label>
    <input type="number" id="lingoteFerro" placeholder="Lingote de ferro tratado">
    <input type="number" id="corpoChassi" placeholder="Corpo de helic√≥ptero / Chassi">
    <input type="number" id="engrenagem" placeholder="Engrenagem mec√¢nica">
    <input type="number" id="chapaFerro" placeholder="Chapa de ferro">

    <button onclick="verificarMateriais()">Verificar materiais</button>
    <button onclick="enviarZapVenda()">Enviar pedido</button>

    <div id="resultadoVenda" class="result" style="display:none;"></div>
</div>

<button onclick="enviarZapGeral()">üì© Enviar pedido completo</button>

<a href="https://wa.me/+556296094975" target="_blank">üí¨ Suporte</a>
<p>Siga nossas redes:</p>
<a href="https://www.instagram.com/trabalhando.no.digital?igsh=M3pkb3lrY3VnYTky" target="_blank">üì∏ Instagram</a>
<a href="https://tiktok.com/@SEUTIKTOK" target="_blank">üéµ TikTok</a>

</div>

<!-- POPUP -->
<script>
function mostrarPopup(msg) {
    const popup = document.createElement("div");
    popup.style.position = "fixed";
    popup.style.top = "50%";
    popup.style.left = "50%";
    popup.style.transform = "translate(-50%, -50%)";
    popup.style.background = "#111";
    popup.style.padding = "25px";
    popup.style.borderRadius = "12px";
    popup.style.boxShadow = "0 0 25px rgba(0,0,0,0.5)";
    popup.style.zIndex = "999999";
    popup.style.color = "white";
    popup.style.fontSize = "18px";
    popup.style.textAlign = "center";
    popup.innerHTML = `<strong>${msg}</strong>`;
    document.body.appendChild(popup);
    setTimeout(() => popup.remove(), 3000);
}
</script>

<script>
// ===== OBJETOS MATERIAIS E PRE√áOS =====
const materiais = {
    jeepdeguerra: { lingoteFerro: 100, corpoChassi: 50, engrenagem: 20, chapaFerro: 0 },
    pequenalambretafesta: { lingoteFerro: 150, corpoChassi: 70, engrenagem: 30, chapaFerro: 0 },
    pequenalambretacanto: { lingoteFerro: 300, corpoChassi: 200, engrenagem: 80, chapaFerro: 0 },
    helicopterodeataque: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 },
    motoolanadorazul: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 },
    motoolanador: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 },
    tanquetigrebranco: { lingoteFerro: 200, corpoChassi: 1, engrenagem: 40, chapaFerro: 40 } // <== corrigido
};

const precoVenda = {
    jeepdeguerra: 4500,
    pequenalambretafesta: 7800,
    pequenalambretacanto: 15000,
    helicopterodeataque: 12000,
    motoolanadorazul: 12000,
    motoolanador: 12000,
    tanquetigrebranco: 12000,
};

const BOT_PHONE = "556296094975";
const BOT_KEY = "2198964";

// ===== FUN√á√ïES =====
function gerarIDProduto() { 
    return "PROD-" + Math.floor(100000 + Math.random() * 900000); 
}

function verificarMateriais() {
    const v = document.getElementById("vehicle").value;
    if (!v) { mostrarPopup("‚ùå Selecione um ve√≠culo!"); return; }

    const req = materiais[v];
    const user = {
        lingoteFerro: Number(document.getElementById("lingoteFerro").value || 0),
        corpoChassi: Number(document.getElementById("corpoChassi").value || 0),
        engrenagem: Number(document.getElementById("engrenagem").value || 0),
        chapaFerro: Number(document.getElementById("chapaFerro").value || 0)
    };

    let faltas = [];
    for (let m in req) { if (user[m] < req[m]) faltas.push(`${m}: ${req[m]-user[m]} faltando`); }

    const box = document.getElementById("resultadoVenda");
    box.style.display = "block";
    box.innerText = `
üì¶ Materiais para ${v.toUpperCase()}

Necess√°rio:
Lingote: ${req.lingoteFerro}
Chassi: ${req.corpoChassi}
Engrenagem: ${req.engrenagem}
Chapa: ${req.chapaFerro}

Voc√™ possui:
Lingote: ${user.lingoteFerro}
Chassi: ${user.corpoChassi}
Engrenagem: ${user.engrenagem}
Chapa: ${user.chapaFerro}

` + (faltas.length === 0 ? "‚úÖ Voc√™ tem todos os materiais!" : "‚ùå Faltando:\n" + faltas.join("\n"));

    if (faltas.length === 0) mostrarPopup("‚úÖ Todos os materiais conferidos!");
    else mostrarPopup("‚ùå Faltam materiais!");
}

function enviarZapVenda() {
    const nome = document.getElementById("nome").value.trim();
    const tel = document.getElementById("telefone").value.trim();
    const pid = document.getElementById("playerID").value.trim();
    const serv = document.getElementById("serverName").value.trim();
    const v = document.getElementById("vehicle").value;

    if (!nome || !tel || !pid || !serv || !v) { mostrarPopup("‚ùå Preencha todos os campos!"); return; }

    const m = materiais[v];
    const idProduto = gerarIDProduto();
    const msg = `
NOVA VENDA ‚Äî carX

üÜî ID do Produto: ${idProduto}

üë§ Nome: ${nome}
üìû Telefone: ${tel}
üéÆ ID do Player: ${pid}
üåç Servidor: ${serv}

üöó Ve√≠culo: ${v.toUpperCase()}
üí∞ Pre√ßo: R$ ${precoVenda[v].toLocaleString()}

üì¶ Materiais necess√°rios:
‚Ä¢ Lingotes: ${m.lingoteFerro}
‚Ä¢ Chassi: ${m.corpoChassi}
‚Ä¢ Engrenagem: ${m.engrenagem}
‚Ä¢ Chapas: ${m.chapaFerro}

üïí ${new Date().toLocaleString()}
`;
    enviarBot(msg);
}

function enviarZapGeral() {
    const nome = document.getElementById("nome").value.trim();
    const tel = document.getElementById("telefone").value.trim();
    const pid = document.getElementById("playerID").value.trim();
    const serv = document.getElementById("serverName").value.trim();

    if (!nome || !tel || !pid || !serv) { mostrarPopup("‚ùå Preencha todos os campos!"); return; }

    let msg = `
PEDIDO COMPLETO ‚Äî carX

üÜî ID do Pedido: ${gerarIDProduto()}

üë§ Nome: ${nome}
üìû Telefone: ${tel}
üéÆ Player ID: ${pid}
üåç Servidor: ${serv}
`;

    const v = document.getElementById("vehicle").value;
    if (v) {
        const m = materiais[v];
        msg += `
--- VENDA ---
Ve√≠culo: ${v.toUpperCase()}
Pre√ßo: R$ ${precoVenda[v].toLocaleString()}
Materiais: ${m.lingoteFerro} lingotes, ${m.corpoChassi} chassi, ${m.engrenagem} engrenagem, ${m.chapaFerro} chapas
`;
    }

    msg += `\nüïí ${new Date().toLocaleString()}`;
    enviarBot(msg);
}

function enviarBot(texto) {
    const url = "https://api.callmebot.com/whatsapp.php?phone=" + BOT_PHONE +
        "&text=" + encodeURIComponent(texto) + "&apikey=" + BOT_KEY;

    fetch(url)
        .then(() => mostrarPopup("‚úÖ Pedido enviado com sucesso!"))
        .catch(() => mostrarPopup("‚úÖ Pedido enviado, logo entraremos em contato!"));
}

// ========== CHAT BOT ORGANIZADO ==========

function toggleChat() {
    const box = document.getElementById("chat-box");
    box.style.display = box.style.display === "flex" ? "none" : "flex";
}

function sendMsg() {
    const input = document.getElementById("chatText");
    const text = input.value.trim();
    if (!text) return;

    addMessage("Voc√™", text);

    let clean = text.toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/[.,!?;:()]/g, "");

    let resposta = "N√£o entendi, digite /start para ver o menu.";

    // ======== MATERIAIS DO SEU SITE (Craft autom√°tico) ========
    const craft = {
        jeepdeguerra: { ferro: 100, chassi: 50, engrenagem: 20, chapa: 0 },
        pequenalambretafesta: { ferro: 150, chassi: 70, engrenagem: 30, chapa: 0 },
        pequenalambretacanto: { ferro: 300, chassi: 200, engrenagem: 80, chapa: 0 },
        helicopterodeataque: { ferro: 200, chassi: 1, engrenagem: 40, chapa: 40 },
        motoolanadorazul: { ferro: 200, chassi: 1, engrenagem: 40, chapa: 40 },
        motoolanador: { ferro: 200, chassi: 1, engrenagem: 40, chapa: 40 },
        tanquetigrebranco: { ferro: 200, chassi: 1, engrenagem: 40, chapa: 40 }
    };

    // ======== MENU PRINCIPAL ========
    if (clean === "/start") {
        resposta =
`üëã Bem-vindo ao atendimento carX!

Escolha uma op√ß√£o:
<br>1Ô∏è‚É£ Suporte
<br>2Ô∏è‚É£ Formas de pagamento
<br>3Ô∏è‚É£ Como funciona o aluguel
<br>4Ô∏è‚É£ Craft dos ve√≠culos
<br>5Ô∏è‚É£ Promo√ß√µes
<br>6Ô∏è‚É£ D√∫vidas gerais
<br>7Ô∏è‚É£ Encerrar atendimento

Ou digite o NOME do ve√≠culo para ver o craft.`;
    }

    // ======== OPC√ÉO 1 ========
    else if (clean === "1") {
        resposta =
`üí¨ <b>Suporte Oficial</b><br>
<a href="https://wa.me/556296094975" target="_blank">Clique aqui para falar no WhatsApp</a>`;
    }

    // ======== OPC√ÉO 2 ========
    else if (clean === "2") {
        resposta =
`üí∞ <b>Formas de pagamento</b><br>
‚Ä¢ Pix<br>
‚Ä¢ Cart√£o<br>
‚Ä¢ Boleto<br><br>
Para finalizar a compra, envie:<br>
Nome + Player ID + Servidor.`;
    }

    // ======== OPC√ÉO 3 ========
    else if (clean === "3") {
        resposta =
`üöó <b>Como funciona o aluguel</b><br><br>
‚Ä¢ Escolha o ve√≠culo<br>
‚Ä¢ Informe quantos servidores vai usar<br>
‚Ä¢ O pre√ßo muda conforme a quantidade<br>
‚Ä¢ Entregamos via WhatsApp<br><br>
Digite o NOME do ve√≠culo para consultar valores.`;
    }

    // ======== OPC√ÉO 4 ========
    else if (clean === "4") {
        resposta =
`üõ† <b>Craft dos ve√≠culos</b><br><br>
Digite o NOME do ve√≠culo para ver o craft.<br>
Exemplo: jeep de guerra, motoolanador, helic√≥ptero‚Ä¶`;
    }

    // ======== OPC√ÉO 5 ========
    else if (clean === "5") {
        resposta =
`üéÅ <b>Promo√ß√µes Ativas</b><br><br>
üî• Desconto progressivo<br>
üí• Desconto especial no Pix<br>
üéâ Promo√ß√µes semanais<br>
üöó Pacotes com v√°rios ve√≠culos<br><br>
Digite o ve√≠culo para ver se tem promo√ß√£o.`;
    }

    // ======== OPC√ÉO 6 ========
    else if (clean === "6") {
        resposta =
`‚ùì <b>D√∫vidas Frequentes</b><br><br>
‚Ä¢ Entrega via WhatsApp<br>
‚Ä¢ Precisa ter os materiais no jogo<br>
‚Ä¢ Entrega entre 5 e 20 minutos<br><br>
Pergunte qualquer coisa!`;
    }

    // ======== OPC√ÉO 7 ========
    else if (clean === "7") {
        resposta = `üëã Atendimento encerrado. Digite /start para voltar.`;
    }

    // ======== CRAFT AUTOM√ÅTICO (onde acontece a m√°gica) ========
    else if (craft[clean]) {
        const c = craft[clean];
        resposta =
`üõ† <b>Craft de ${clean.toUpperCase()}</b><br><br>
‚Ä¢ Lingote de ferro tratado: ${c.ferro}<br>
‚Ä¢ Corpo / Chassi: ${c.chassi}<br>
‚Ä¢ Engrenagem mec√¢nica: ${c.engrenagem}<br>
‚Ä¢ Chapa de ferro: ${c.chapa}<br><br>
Se quiser enviar o pedido, fa√ßa pelo site ou chame no WhatsApp.`;
    }

    // ======== ATALHOS (mantidos) ========
    else if (clean.includes("oi") || clean.includes("ola"))
        resposta = "Ol√°! Digite /start para ver todas as op√ß√µes üòä";
    else if (clean.includes("suport"))
        resposta = 'Fale com o suporte: <a href="https://wa.me/556296094975" target="_blank">WhatsApp</a>';
    else if (clean.includes("preco"))
        resposta = "Os pre√ßos variam conforme o ve√≠culo.";
    else if (clean.includes("alugar"))
        resposta = "Para alugar, selecione o ve√≠culo no site e envie.";
    else if (clean.includes("comprar"))
        resposta = "Para comprar, finalize o pedido no carrinho.";
    else if (clean.includes("material"))
        resposta = "Voc√™ deve ter os materiais necess√°rios no jogo.";

    // ======== ENVIAR RESPOSTA ========
    setTimeout(() => addMessage("Bot", resposta), 300);
    input.value = "";
}


// Fun√ß√£o para adicionar mensagem
function addMessage(user, msg) {
    const box = document.getElementById("chat-messages");
    const div = document.createElement("div");

    div.innerHTML = `<b>${user}:</b><br> ${msg}<br><br>`;
    box.appendChild(div);
    box.scrollTop = box.scrollHeight;
}
</script>

<div id="chat-bubble" onclick="toggleChat()">üí¨</div>
<div id="chat-box">
    <div id="chat-header">Atendimento</div>
    <div id="chat-messages"></div>
    <div id="chat-input">
        <input type="text" id="chatText" placeholder="Digite sua mensagem...">
        <button onclick="sendMsg()">‚û§</button>
    </div>
</div>

</body>
</html>
